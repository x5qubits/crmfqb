<div class="row" id="statsCards">
<div class="col-md-3"><div class="stats-card" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)"><h3 id="stat-campaigns">0</h3><p><i class="fas fa-bullhorn"></i> Total Campanii</p></div></div>
<div class="col-md-3"><div class="stats-card" style="background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%)"><h3 id="stat-categories">0</h3><p><i class="fas fa-folder"></i> Categorii</p></div></div>
<div class="col-md-3"><div class="stats-card" style="background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%)"><h3 id="stat-items">0</h3><p><i class="fas fa-users"></i> Total Contacte</p></div></div>
<div class="col-md-3"><div class="stats-card" style="background:linear-gradient(135deg,#43e97b 0%,#38f9d7 100%)"><h3 id="stat-queued">0</h3><p><i class="fas fa-clock"></i> Mesaje în Așteptare</p></div></div>
</div>

<ul class="nav nav-tabs" role="tablist">
<li class="nav-item"><a class="nav-link active" data-tab="campaigns"><i class="fas fa-bullhorn"></i> Campanii</a></li>
<li class="nav-item"><a class="nav-link" data-tab="categories"><i class="fas fa-folder"></i> Categorii</a></li>
<li class="nav-item"><a class="nav-link" data-tab="items"><i class="fas fa-users"></i> Contacte</a></li>
<li class="nav-item"><a class="nav-link" data-tab="reminders"><i class="fas fa-bell"></i> Reminder-uri</a></li>
<li class="nav-item"><a class="nav-link" data-tab="queue"><i class="fas fa-list"></i> Coadă</a></li>
<li class="nav-item ml-auto"><div class="btn-group"><button class="btn btn-sm btn-outline-secondary dropdown-toggle" data-toggle="dropdown"><i class="fas fa-download"></i> Export</button><div class="dropdown-menu dropdown-menu-right">
<a class="dropdown-item" href="?export=1&scope=campaigns&format=json" target="_blank"><i class="fas fa-file-code"></i> Campanii (JSON)</a>
<a class="dropdown-item" href="?export=1&scope=campaigns&format=csv" target="_blank"><i class="fas fa-file-csv"></i> Campanii (CSV)</a><div class="dropdown-divider"></div>
<a class="dropdown-item" href="?export=1&scope=categories&format=json" target="_blank"><i class="fas fa-file-code"></i> Categorii (JSON)</a>
<a class="dropdown-item" href="?export=1&scope=categories&format=csv" target="_blank"><i class="fas fa-file-csv"></i> Categorii (CSV)</a><div class="dropdown-divider"></div>
<a class="dropdown-item" href="?export=1&scope=items&format=json" target="_blank"><i class="fas fa-file-code"></i> Contacte (JSON)</a>
<a class="dropdown-item" href="?export=1&scope=items&format=csv" target="_blank"><i class="fas fa-file-csv"></i> Contacte (CSV)</a><div class="dropdown-divider"></div>
<a class="dropdown-item" href="?export=1&scope=queue&format=json" target="_blank"><i class="fas fa-file-code"></i> Coadă (JSON)</a>
<a class="dropdown-item" href="?export=1&scope=queue&format=csv" target="_blank"><i class="fas fa-file-csv"></i> Coadă (CSV)</a>
</div></div></li>
</ul>

<div class="tab-content mt-3">
<!-- TAB CAMPANII -->
<div class="tab-pane active" id="campaigns-tab">
<div class="card"><h5 class="card-header"><i class="fas fa-plus-circle"></i> Creează Campanie Nouă</h5>
<div class="card-body">
<form id="campaignForm"><div class="row">
<div class="col-md-3"><input class="form-control" name="title" placeholder="Titlu Campanie" required></div>
<div class="col-md-2"><select class="form-control" name="channel" required><option value="EMAIL">Email</option><option value="SMS">SMS</option><option value="BOTH">Ambele</option></select></div>
<div class="col-md-3"><input class="form-control" type="date" name="schedule_time" required></div>
<div class="col-md-2"><input class="form-control" name="subject" placeholder="Subiect Email"></div>
<div class="col-md-2"><select class="form-control" name="status"><option>DRAFT</option><option>ACTIVE</option><option>PAUSED</option><option>DONE</option></select></div>
</div>
<textarea class="form-control mt-2" name="body_template" rows="3" placeholder="Șablon mesaj (folosește {label}, {email}, {phone} ca variabile)"></textarea>
<button class="btn btn-success mt-2" type="submit"><i class="fas fa-save"></i> Creează Campanie</button>
</form></div></div>
<div class="card mt-3"><div class="card-body">
<table class="table table-hover table-sm" id="campaignsTable"><thead><tr><th>ID</th><th>Titlu</th><th>Canal</th><th>Programare</th><th>Status</th><th>Creat</th><th>Acțiuni</th></tr></thead><tbody></tbody></table>
</div></div>
</div>

<!-- TAB CATEGORII -->
<div class="tab-pane" id="categories-tab">
<div class="card"><h5 class="card-header"><i class="fas fa-plus-circle"></i> Creează Categorie</h5>
<div class="card-body">
<form id="categoryForm" class="form-inline">
<input class="form-control mr-2" name="name" placeholder="Nume Categorie" required style="width:250px">
<input class="form-control mr-2" name="description" placeholder="Descriere" style="width:350px">
<button class="btn btn-success" type="submit"><i class="fas fa-save"></i> Creează</button>
</form></div></div>
<div class="card mt-3"><div class="card-body">
<table class="table table-hover table-sm" id="categoriesTable"><thead><tr><th>ID</th><th>Nume</th><th>Descriere</th><th>Nr. Contacte</th><th>Creat</th><th>Acțiuni</th></tr></thead><tbody></tbody></table>
</div></div>
</div>

<!-- TAB CONTACTE -->
<div class="tab-pane" id="items-tab">
<div class="filter-controls">
<div class="row">
<div class="col-md-3">
<label><i class="fas fa-filter"></i> Filtrează după Categorie</label>
<select class="form-control" id="filterCategory"><option value="">Toate Categoriile</option></select>
</div>
<div class="col-md-3">
<label><i class="fas fa-trash-alt"></i> Ștergere în Masă</label>
<select class="form-control" id="bulkDeleteCategory"><option value="">Selectează Categorie pentru Ștergere</option></select>
</div>
<div class="col-md-3">
<label>&nbsp;</label><br>
<button class="btn btn-primary" id="btnApplyFilters"><i class="fas fa-filter"></i> Aplică Filtru</button>
</div>
<div class="col-md-3">
<label>&nbsp;</label><br>
<button class="btn btn-danger" id="btnBulkDelete"><i class="fas fa-trash-alt"></i> Șterge Tot din Categorie</button>
</div>
</div>
</div>

<div class="row">
<div class="col-md-6"><div class="card"><h5 class="card-header"><i class="fas fa-user-plus"></i> Adaugă Contact</h5>
<div class="card-body">
<form id="itemForm"><div class="row">
<div class="col-md-12 mb-2"><select class="form-control" name="category_id" id="itemCategorySelect" required><option value="">Selectează Categorie</option></select></div>
<div class="col-md-6"><input class="form-control mb-2" name="label" placeholder="Nume/Etichetă"></div>
<div class="col-md-6"><input class="form-control mb-2" name="email" placeholder="Email" type="email"></div>
<div class="col-md-6"><input class="form-control mb-2" name="phone" placeholder="Telefon"></div>
<div class="col-md-6"><input class="form-control mb-2" name="memo" placeholder="Notițe"></div>
<div class="col-md-6"><input class="form-control mb-2" type="date" name="birthdate" placeholder="Data Nașterii"></div>
<div class="col-md-6"><label class="text-muted" style="font-size:0.8rem;">Zi de Naștere (opțional)</label></div>
</div>
<button class="btn btn-success btn-block" type="submit"><i class="fas fa-save"></i> Adaugă Contact</button>
</form></div></div></div>

<div class="col-md-6"><div class="card"><h5 class="card-header"><i class="fas fa-file-upload"></i> Import în Masă</h5>
<div class="card-body">
<form id="bulkImportForm" enctype="multipart/form-data">
<select class="form-control mb-2" name="category_id" id="bulkCategorySelect" required><option value="">Selectează Categoria Destinație</option></select>
<select class="form-control mb-2" name="format" id="bulkFormat"><option value="json">Format JSON</option><option value="csv">Format CSV</option></select>
<input class="form-control mb-2" type="file" name="file" id="bulkFile" required>
<button class="btn btn-info btn-block" type="button" id="btnPreviewCSV" style="display:none;"><i class="fas fa-eye"></i> Previzualizare & Mapare Câmpuri</button>
<button class="btn btn-primary btn-block mt-2" type="submit"><i class="fas fa-upload"></i> Importă Contacte</button>
</form></div></div></div>
</div>

<div class="card mt-3"><div class="card-body">
<table class="table table-hover table-sm" id="itemsTable">
<thead><tr><th>ID</th><th>Categorie</th><th>Nume</th><th>Email</th><th>Telefon</th><th>Notițe</th><th>Acțiuni</th></tr></thead>
<tbody></tbody>
</table>
</div></div>
</div>

<!-- TAB REMINDER-URI -->
<div class="tab-pane" id="reminders-tab">
<div class="card"><h5 class="card-header"><i class="fas fa-plus-circle"></i> Creează Reminder Automat</h5>
<div class="card-body">
<form id="reminderForm"><div class="row">
<div class="col-md-3"><input class="form-control" name="title" placeholder="Titlu Reminder" required></div>
<div class="col-md-2"><select class="form-control" name="reminder_type" id="reminder_type" required>
<option value="BIRTHDAY">Zi de Naștere</option>
<option value="CUSTOM_DATE_1">Dată Personalizată 1</option>
<option value="CUSTOM_DATE_2">Dată Personalizată 2</option>
</select></div>
<div class="col-md-2"><input class="form-control" type="number" name="days_before" placeholder="Zile înainte" value="0" min="0" max="365"></div>
<div class="col-md-2"><select class="form-control" name="channel" required><option value="SMS">SMS</option><option value="EMAIL">Email</option><option value="BOTH">Ambele</option></select></div>
<div class="col-md-2"><div class="custom-control custom-switch pt-2"><input type="checkbox" class="custom-control-input" name="active" id="reminder_active" checked><label class="custom-control-label" for="reminder_active">Activ</label></div></div>
</div>
<textarea class="form-control mt-2" name="message_template" rows="2" placeholder="Șablon mesaj (folosește {label}, {email}, {phone})" required></textarea>
<button class="btn btn-success mt-2" type="submit"><i class="fas fa-save"></i> Creează Reminder</button>
</form></div></div>

<div class="card mt-3"><div class="card-body">
<div class="d-flex justify-content-between mb-3">
<h6><i class="fas fa-bell"></i> Reminder-uri Configurate</h6>
<button class="btn btn-sm btn-primary" id="btnProcessReminders"><i class="fas fa-sync"></i> Procesează Acum</button>
</div>
<table class="table table-hover table-sm" id="remindersTable"><thead><tr><th>ID</th><th>Titlu</th><th>Tip</th><th>Zile Înainte</th><th>Canal</th><th>Status</th><th>Acțiuni</th></tr></thead><tbody></tbody></table>
</div></div>

<div class="card mt-3"><div class="card-header bg-info text-white"><i class="fas fa-birthday-cake"></i> Zile de Naștere Apropiate (Următoarele 30 Zile)</div>
<div class="card-body"><div id="upcomingBirthdays"></div></div></div>
</div>

<!-- TAB COADĂ -->
<div class="tab-pane" id="queue-tab">
<div class="card"><h5 class="card-header"><i class="fas fa-plus-circle"></i> Construiește Coadă</h5>
<div class="card-body">
<form id="queueForm"><div class="row">
<div class="col-md-4"><label>Selectează Campanie</label><select class="form-control" name="campaign_id" id="queueCampaignSelect" required><option value="">Alege...</option></select></div>
<div class="col-md-8"><label>Selectează Categorii de Inclus</label><div id="queueCategoriesCheckboxes" style="max-height:200px;overflow:auto;border:1px solid #dee2e6;border-radius:4px;padding:10px;background:#000"></div></div>
</div>
<button class="btn btn-success mt-3" type="submit"><i class="fas fa-list-ul"></i> Adaugă în Coadă</button>
</form></div></div>

<div class="card mt-3">
<div class="card-header">
<div class="d-flex justify-content-between align-items-center">
<h5 class="mb-0"><i class="fas fa-list"></i> Coadă Mesaje</h5>
<button class="btn btn-danger btn-sm" id="btnEmptyQueue"><i class="fas fa-trash-alt"></i> Golește Coada</button>
</div>
</div>
<div class="card-body">
<table class="table table-hover table-sm" id="queueTable"><thead><tr><th>ID</th><th>Campanie</th><th>Categorie</th><th>Contact</th><th>Canal</th><th>Status</th><th>Trimis La</th><th>Acțiuni</th></tr></thead><tbody></tbody></table>
</div>
<div class="card-footer"><small class="text-muted"><i class="fas fa-info-circle"></i> Endpoint-uri API: /api/next-email.php, /api/next-sms.php, /api/next.php?channel=EMAIL|SMS</small></div>
</div>
</div>
</div>